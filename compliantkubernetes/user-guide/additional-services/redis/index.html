
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Kubernetes platform to comply with Swedish Healthcare (Patientdatalagen), GDPR and ISO 27001." name="description"/>
<meta content="Elastisys AB" name="author"/>
<link href="https://elastisys.io/compliantkubernetes/user-guide/additional-services/redis/" rel="canonical"/>
<link href="../timescaledb/" rel="prev"/>
<link href="../rabbitmq/" rel="next"/>
<link href="https://elastisys.io/compliantkubernetes/img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-9.4.6" name="generator"/>
<title>Redis - Elastisys Compliant Kubernetes</title>
<link href="../../../assets/stylesheets/main.35e1ed30.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.356b1318.min.css" rel="stylesheet"/>
<link href="../../../stylesheets/branding.css" rel="stylesheet"/>
<link href="../../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://matomo.elastisys.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
<meta content="website" property="og:type"/>
<meta content="Redis - Elastisys Compliant Kubernetes" property="og:title"/>
<meta content="Kubernetes platform to comply with Swedish Healthcare (Patientdatalagen), GDPR and ISO 27001." property="og:description"/>
<meta content="https://elastisys.io/compliantkubernetes/assets/images/social/user-guide/additional-services/redis.png" property="og:image"/>
<meta content="image/png" property="og:image:type"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="https://elastisys.io/compliantkubernetes/user-guide/additional-services/redis/" property="og:url"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Redis - Elastisys Compliant Kubernetes" name="twitter:title"/>
<meta content="Kubernetes platform to comply with Swedish Healthcare (Patientdatalagen), GDPR and ISO 27001." name="twitter:description"/>
<meta content="https://elastisys.io/compliantkubernetes/assets/images/social/user-guide/additional-services/redis.png" name="twitter:image"/>
<meta content="
  default-src 'self';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data:;
  connect-src 'self' https://matomo.elastisys.com/;
  script-src 'self' 'unsafe-inline' https://matomo.elastisys.com/;
" http-equiv="Content-Security-Policy"/>
<!-- Disable localStorage, sessionStorage and cookies -->
<script>
if (window.localStorage) {
  window.localStorage.setItem = function() { };
  window.localStorage.clear();
}
if (window.sessionStorage) {
  window.sessionStorage.setItem = function() { }
  window.sessionStorage.clear();
}
if(!document.__defineGetter__) {
  Object.defineProperty(document, 'cookie', {
    get: function(){return ''},
    set: function(){return true},
  });
} else {
  document.__defineGetter__("cookie", function() { return '';} );
  document.__defineSetter__("cookie", function() {} );
}
</script>
<!-- See https://realfavicongenerator.net -->
<link href="https://elastisys.io/compliantkubernetes/img/apple-touch-icon.png?v=1" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://elastisys.io/compliantkubernetes/img/favicon-32x32.png?v=1" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://elastisys.io/compliantkubernetes/img/favicon-16x16.png?v=1" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://elastisys.io/compliantkubernetes/img/site.webmanifest?v=1" rel="manifest"/>
<link color="#5bbad5" href="https://elastisys.io/compliantkubernetes/img/safari-pinned-tab.svg?v=1" rel="mask-icon"/>
<link href="https://elastisys.io/compliantkubernetes/img/favicon.ico?v=1" rel="shortcut icon"/>
<meta content="#2b5797" name="msapplication-TileColor"/>
<meta content="https://elastisys.io/compliantkubernetes/img/browserconfig.xml?v=1" name="msapplication-config"/>
<meta content="#ffffff" name="theme-color"/>
<link href="../../../assets/stylesheets/extra-style.rr7hfl7e.min.css" rel="stylesheet"/></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="elastisys" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#redistm">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Elastisys Compliant Kubernetes" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Elastisys Compliant Kubernetes">
<img alt="logo" src="../../../img/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Elastisys Compliant Kubernetes
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Redis
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<ul class="header-links">
<li>
<a href="https://github.com/elastisys/compliantkubernetes/">
<img alt="Git logo" src="../../../img/git-alt.svg" width="25px">
</img></a>
</li>
<li><a class="menu-callout" href="https://elastisys.com/">Try out Managed<br/>Compliant Kubernetes</a></li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Elastisys Compliant Kubernetes" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Elastisys Compliant Kubernetes">
<img alt="logo" src="../../../img/logo.png"/>
</a>
    Elastisys Compliant Kubernetes
  </label>
<div class="md-nav__source">
<ul class="header-links">
<li>
<a href="https://github.com/elastisys/compliantkubernetes/">
<img alt="Git logo" src="../../../img/git-alt.svg" width="25px">
</img></a>
</li>
<li><a class="menu-callout" href="https://elastisys.com/">Try out Managed<br/>Compliant Kubernetes</a></li>
</ul>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    For Application Developers
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            For Application Developers
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../prepare/">
<span class="md-ellipsis">
    Step 1: Prepare
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../deploy/">
<span class="md-ellipsis">
    Step 2: Deploy
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../operate/">
<span class="md-ellipsis">
    Step 3: Operate
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    Go Deeper
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            Go Deeper
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../prepare-application/">
<span class="md-ellipsis">
    Prepare Your Application
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../prepare-idp/">
<span class="md-ellipsis">
    Prepare Your Identity Provider (IdP)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../registry/">
<span class="md-ellipsis">
    Container registry
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../continous-development/">
<span class="md-ellipsis">
    Continous Development
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../network-model/">
<span class="md-ellipsis">
    Network Model
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../kubernetes-api/">
<span class="md-ellipsis">
    Kubernetes API
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../kubernetes-ui/">
<span class="md-ellipsis">
    Kubernetes UI (Lens)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../namespaces/">
<span class="md-ellipsis">
    Namespaces
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../logs/">
<span class="md-ellipsis">
    Logs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../log-based-alerts/">
<span class="md-ellipsis">
    Log-based Alerts
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../long-term-log-retention/">
<span class="md-ellipsis">
    Long-term Log Retention
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../metrics/">
<span class="md-ellipsis">
    Metrics
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../alerts/">
<span class="md-ellipsis">
    Metric Alerts
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../maintenance/">
<span class="md-ellipsis">
    Maintenance
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../backup/">
<span class="md-ellipsis">
    Backups
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ci-cd/">
<span class="md-ellipsis">
    CI/CD
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../demarcation/">
<span class="md-ellipsis">
    Demarcation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../delegation/">
<span class="md-ellipsis">
    How to Delegate
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../how-many-environments/">
<span class="md-ellipsis">
    How many environments?
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    Safeguards
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            Safeguards
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-no-root/">
<span class="md-ellipsis">
    Enforce No Root
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-podsecuritypolicies/">
<span class="md-ellipsis">
    Enforce Restricted Privileges
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-networkpolicies/">
<span class="md-ellipsis">
    Enforce NetworkPolicies
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-resources/">
<span class="md-ellipsis">
    Enforce Resources
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-trusted-registries/">
<span class="md-ellipsis">
    Enforce Trusted Registries
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-no-latest-tag/">
<span class="md-ellipsis">
    Enforce No Latest Tag
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safeguards/enforce-job-ttl/">
<span class="md-ellipsis">
    Enforce Job TTL
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    Additional Services
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            Additional Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../postgresql/">
<span class="md-ellipsis">
    PostgreSQL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../timescaledb/">
<span class="md-ellipsis">
    TimescaleDB
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Redis
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Redis
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#install-prerequisites">
    Install Prerequisites
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getting-access">
    Getting Access
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-configmap">
    Create a ConfigMap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allow-your-pods-to-communicate-with-the-redis-cluster">
    Allow your Pods to communicate with the Redis cluster
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expose-redis-connection-parameters-to-your-application">
    Expose Redis Connection Parameters to Your Application
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#follow-the-go-live-checklist">
    Follow the Go-Live Checklist
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ck8s-redis-release-notes">
    CK8S Redis Release Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices-recommended">
    Best Practices Recommended
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#further-reading">
    Further Reading
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rabbitmq/">
<span class="md-ellipsis">
    RabbitMQ
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../jaeger/">
<span class="md-ellipsis">
    Jaeger (preview)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../argocd/">
<span class="md-ellipsis">
    Argo CD (preview)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-ellipsis">
    Self-Managed Services
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            Self-Managed Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/ferretdb/">
<span class="md-ellipsis">
    FerretDB (self-managed)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/keycloak/">
<span class="md-ellipsis">
    Keycloak (self-managed)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/jupyterhub/">
<span class="md-ellipsis">
    JupyterHub (self-managed)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/sealedsecrets/">
<span class="md-ellipsis">
    SealedSecrets (self-managed)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/mongodb/">
<span class="md-ellipsis">
    MongoDB (self-managed)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../self-managed-services/sjunet/">
<span class="md-ellipsis">
    SjuNet (self-managed)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../go-live/">
<span class="md-ellipsis">
    Go-live Checklist
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../troubleshooting/">
<span class="md-ellipsis">
    Troubleshooting
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../faq/">
<span class="md-ellipsis">
    FAQ
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    For Platform Administrators
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            For Platform Administrators
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/getting-started/">
<span class="md-ellipsis">
    Getting Started
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/provider-audit/">
<span class="md-ellipsis">
    Provider Audit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/on-prem-standard/">
<span class="md-ellipsis">
    Standard Template for on-prem Environment
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/qa/">
<span class="md-ellipsis">
    QA
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    Advanced Configuration
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            Advanced Configuration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/configure/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/cluster-sizing/">
<span class="md-ellipsis">
    Sizing
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/ingress/">
<span class="md-ellipsis">
    Ingress
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/access-control/">
<span class="md-ellipsis">
    Access Control
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/user-alerts/">
<span class="md-ellipsis">
    User Alerts
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/user-manged-crds/">
<span class="md-ellipsis">
    User Managed CRDs (preview)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/disaster-recovery/">
<span class="md-ellipsis">
    Disaster Recovery
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/break-glass/">
<span class="md-ellipsis">
    Breaking the Glass
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/cryptography/">
<span class="md-ellipsis">
    Use of Cryptography
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/credentials/">
<span class="md-ellipsis">
    Use of Credentials
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/capacity-management/">
<span class="md-ellipsis">
    Capacity Management
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/clock-synchronization/">
<span class="md-ellipsis">
    Clock Synchronization
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/maintenance/">
<span class="md-ellipsis">
    Maintenance
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/clean-up/">
<span class="md-ellipsis">
    Clean Up
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/troubleshooting/">
<span class="md-ellipsis">
    Troubleshooting
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/faq/">
<span class="md-ellipsis">
    FAQ
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operator-manual/additional-services/">
<span class="md-ellipsis">
    Additional Services
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    For CISOs and DPOs
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            For CISOs and DPOs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/gdpr/">
<span class="md-ellipsis">
    GDPR (EU)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/iso-27001/">
<span class="md-ellipsis">
    ISO 27001 (EU)
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
<span class="md-ellipsis">
    Healthcare
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            Healthcare
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/hslf-fs-201640/">
<span class="md-ellipsis">
    HSLF-FS 2016:40 (SE)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/hipaa/">
<span class="md-ellipsis">
    HIPAA (US)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/mdr/">
<span class="md-ellipsis">
    MDR (EU)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
<span class="md-ellipsis">
    Public sector
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            Public sector
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/msbfs-20207/">
<span class="md-ellipsis">
    MSBFS 2020:7 (SE)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
<span class="md-ellipsis">
    NIS2
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
            NIS2
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/kritis/">
<span class="md-ellipsis">
    KRITIS (DE)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/bsi-it-grundschutz/">
<span class="md-ellipsis">
    BSI IT-Grundschutz (DE)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/controls/msbfs-20188/">
<span class="md-ellipsis">
    MSBFS 2018:8 (SE)
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
<span class="md-ellipsis">
    CISO Dashboards
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_7">
<span class="md-nav__icon md-icon"></span>
            CISO Dashboards
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/audit-logs/">
<span class="md-ellipsis">
    Audit Logs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/backup/">
<span class="md-ellipsis">
    Backup Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/cryptography/">
<span class="md-ellipsis">
    Cryptography Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/intrusion-detection/">
<span class="md-ellipsis">
    Intrusion Detection Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/policy-as-code/">
<span class="md-ellipsis">
    Policy-as-Code Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/network-security/">
<span class="md-ellipsis">
    Network Security Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/capacity-management/">
<span class="md-ellipsis">
    Capacity Management (Kubernetes Status) Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/vulnerability/">
<span class="md-ellipsis">
    Vulnerability Dashboard
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/log-review/">
<span class="md-ellipsis">
    Log Review
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/faq/">
<span class="md-ellipsis">
    FAQ
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ciso-guide/gdpr-art-17/">
<span class="md-ellipsis">
    How do I comply with GDPR Art. 17 Right to erasure ("right to be forgotten")?
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    For Contributors
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            For Contributors
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../contributor-guide/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../architecture/">
<span class="md-ellipsis">
    Architecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../adr/">
<span class="md-ellipsis">
    Architectural Decision Log
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tech-radar/">
<span class="md-ellipsis">
    Tech Radar
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Release Notes
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/ck8s/">
<span class="md-ellipsis">
    Compliant Kubernetes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/kubespray/">
<span class="md-ellipsis">
    CK8S Kubespray
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/postgres/">
<span class="md-ellipsis">
    CK8S PostgreSQL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/rabbitmq/">
<span class="md-ellipsis">
    CK8S RabbitMQ
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/redis/">
<span class="md-ellipsis">
    CK8S Redis
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/jaeger/">
<span class="md-ellipsis">
    CK8S Jaeger
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../release-notes/argocd/">
<span class="md-ellipsis">
    CK8S Argo CD
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../glossary/">
<span class="md-ellipsis">
    Glossary
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../roadmap/">
<span class="md-ellipsis">
    Roadmap
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://elastisys.com/">
<span class="md-ellipsis">
    Support
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://elastisys.com/training/">
<span class="md-ellipsis">
    Training
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://elastisys.com/blog/">
<span class="md-ellipsis">
    Blog
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://elastisys.com/legal/privacy-policy/">
<span class="md-ellipsis">
    Privacy Policy
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#install-prerequisites">
    Install Prerequisites
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getting-access">
    Getting Access
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-configmap">
    Create a ConfigMap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allow-your-pods-to-communicate-with-the-redis-cluster">
    Allow your Pods to communicate with the Redis cluster
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expose-redis-connection-parameters-to-your-application">
    Expose Redis Connection Parameters to Your Application
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#follow-the-go-live-checklist">
    Follow the Go-Live Checklist
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ck8s-redis-release-notes">
    CK8S Redis Release Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices-recommended">
    Best Practices Recommended
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#further-reading">
    Further Reading
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="redistm">Redis™<a class="headerlink" href="#redistm" title="Permanent link">¶</a></h1>
<div class="admonition elastisys">
<p class="admonition-title">For Elastisys Managed Services Customers</p>
<p>You can order Managed Ephemeral Redis™ by filing a <a href="https://elastisys.atlassian.net/servicedesk/">service ticket</a>. Here are the highlights:</p>
<ul>
<li><strong>Business continuity</strong>: Replicated across three dedicated Nodes.</li>
<li><strong>Disaster recovery</strong>: none -- we recommend against using Redis as a primary database.</li>
<li><strong>Monitoring, security patching and incident management</strong>: included.</li>
</ul>
<p>For more information, please read <a href="https://elastisys.com/legal/terms-of-service/#appendix-3-managed-additional-service-specification">ToS Appendix 3 Managed Additional Service Specification</a>.</p>
</div>
<figure>
<img alt="Redis Deployment Model" src="../img/redis.drawio.svg"/>
<figcaption>
<strong>Redis on Compliant Kubernetes Deployment Model</strong>
<br/>
        This help you build a mental model on how to access Redis as an Application Developer and how to connect your application to Redis.
    </figcaption>
</figure>
<p>This page will help you succeed in connecting your application to a low-latency in-memory cache Redis which meets your security and compliance requirements.</p>
<div class="admonition important">
<p class="admonition-title">Important: Access Control with NetworkPolicies</p>
<p>Please note the follow information about <a href="https://redis.io/topics/security/">Redis access control</a> from the upstream documentation:</p>
<blockquote>
<p>Redis is designed to be accessed by trusted clients inside trusted environments.</p>
</blockquote>
<p>Redis access is protected by <a href="../../safeguards/enforce-networkpolicies/">NetworkPolicies</a>. To allow your applications access to a Redis cluster the Pods need to be labeled with <code>elastisys.io/redis-&lt;cluster_name&gt;-access: allow</code>.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important: No Disaster Recovery</p>
<p>We do not recommend using Redis as primary database. Redis should be used to store:</p>
<ul>
<li>Cached data: If this is lost, this data can be quickly retrieved from the primary database, such as the PostgreSQL cluster.</li>
<li>Session state: If this is lost, the user experience might be impacted -- e.g., the user needs to re-login -- but no data should be lost.</li>
</ul>
</div>
<div class="admonition important">
<p class="admonition-title">Important: Sentinel support</p>
<p>We recommend a highly available setup with at minimum three instances. The Redis client library that you use in your application needs to support <a href="https://redis.io/topics/sentinel/">Redis Sentinel</a>. Notice that clients with Sentinel support need <a href="https://redis.io/topics/sentinel-clients/">extra steps to discover the Redis primary</a>.</p>
</div>
<h2 id="install-prerequisites">Install Prerequisites<a class="headerlink" href="#install-prerequisites" title="Permanent link">¶</a></h2>
<p>Before continuing, make sure you have access to the Kubernetes API, as describe <a href="../../prepare/">here</a>.</p>
<p>Make sure to install the Redis client on your workstation. On Ubuntu, this can be achieved as follows:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>redis-tools
</code></pre></div>
<h2 id="getting-access">Getting Access<a class="headerlink" href="#getting-access" title="Permanent link">¶</a></h2>
<p>Your administrator will set up a ConfigMap inside Compliant Kubernetes, which contains all information you need to access your Redis cluster.
The ConfigMap has the following shape:</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CONFIG_MAP</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$NAMESPACE</span>
<span class="nt">data</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># REDIS_CLUSTER_NAME is the name of the Redis Cluster. You need to know the name to label your Pods correctly for network access.</span>
<span class="w">  </span><span class="nt">REDIS_CLUSTER_NAME</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$REDIS_CLUSTER_NAME</span>

<span class="w">  </span><span class="c1"># REDIS_SENTINEL_HOST represents a cluster-scoped Redis Sentinel host, which only makes sense inside the Kubernetes cluster.</span>
<span class="w">  </span><span class="c1"># E.g., rfs-redis-cluster.redis-system</span>
<span class="w">  </span><span class="nt">REDIS_SENTINEL_HOST</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$REDIS_SENTINEL_HOST</span>

<span class="w">  </span><span class="c1"># REDIS_SENTINEL_PORT represents a cluster-scoped Redis Sentinel port, which only makes sense inside the Kubernetes cluster.</span>
<span class="w">  </span><span class="c1"># E.g., 26379</span>
<span class="w">  </span><span class="nt">REDIS_SENTINEL_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">"$REDIS_SENTINEL_PORT"</span>
</code></pre></div>
<p>To extract this information, proceed as follows:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">CONFIG_MAP</span><span class="o">=</span><span class="w">            </span><span class="c1"># Get this from your administrator</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NAMESPACE</span><span class="o">=</span><span class="w">         </span><span class="c1"># Get this from your administrator</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">REDIS_SENTINEL_HOST</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>-n<span class="w"> </span><span class="nv">$NAMESPACE</span><span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span><span class="nv">$CONFIG_MAP</span><span class="w"> </span>-o<span class="w"> </span><span class="s1">'jsonpath={.data.REDIS_SENTINEL_HOST}'</span><span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">REDIS_SENTINEL_PORT</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>-n<span class="w"> </span><span class="nv">$NAMESPACE</span><span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span><span class="nv">$CONFIG_MAP</span><span class="w"> </span>-o<span class="w"> </span><span class="s1">'jsonpath={.data.REDIS_SENTINEL_PORT}'</span><span class="k">)</span>
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>At the time of this writing, we do not recommend to use a Redis cluster in a multi-tenant fashion. One Redis cluster should have only one purpose.</p>
</div>
<h2 id="create-a-configmap">Create a ConfigMap<a class="headerlink" href="#create-a-configmap" title="Permanent link">¶</a></h2>
<p>First, check that you are on the right Compliant Kubernetes cluster, in the right <strong>application</strong> namespace:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
kubectl<span class="w"> </span>config<span class="w"> </span>view<span class="w"> </span>--minify<span class="w"> </span>--output<span class="w"> </span><span class="s1">'jsonpath={..namespace}'</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
</code></pre></div>
<p>Now, create a Kubernetes ConfigMap in your application namespace to store the Redis Sentinel connection parameters:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | kubectl apply -f -</span>
<span class="s">apiVersion: v1</span>
<span class="s">kind: ConfigMap</span>
<span class="s">metadata:</span>
<span class="s">    name: app-redis-config</span>
<span class="s">data:</span>
<span class="s">    REDIS_SENTINEL_HOST: $REDIS_SENTINEL_HOST</span>
<span class="s">    REDIS_SENTINEL_PORT: "$REDIS_SENTINEL_PORT"</span>
<span class="s">EOF</span>
</code></pre></div>
<h2 id="allow-your-pods-to-communicate-with-the-redis-cluster">Allow your Pods to communicate with the Redis cluster<a class="headerlink" href="#allow-your-pods-to-communicate-with-the-redis-cluster" title="Permanent link">¶</a></h2>
<p>The Redis cluster is protected by Network Policies. Add the following label to your Pods: <code>elastisys.io/redis-&lt;cluster_name&gt;-access: allow</code></p>
<p><code>cluster_name</code> can be retrieved from the ConfigMap provided by your administrator:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span><span class="nv">$NAMESPACE</span><span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span><span class="nv">$CONFIG_MAP</span><span class="w"> </span>-o<span class="w"> </span><span class="s1">'jsonpath={.data.REDIS_CLUSTER_NAME}'</span>
</code></pre></div>
<h2 id="expose-redis-connection-parameters-to-your-application">Expose Redis Connection Parameters to Your Application<a class="headerlink" href="#expose-redis-connection-parameters-to-your-application" title="Permanent link">¶</a></h2>
<p>To expose the Redis cluster to your application, follow one of the following upstream documentation:</p>
<ul>
<li><a href="https://kubernetes.io/docs/concepts/configuration/configmap/#using-configmaps-as-files-from-a-pod">Create a Pod that has access to the ConfigMap data through a Volume</a></li>
<li><a href="https://kubernetes.io/docs/concepts/configuration/configmap/#configmaps-and-pods">Define container environment variables using ConfigMap data</a></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Make sure to use a Redis client library with Sentinel support. For example:</p>
<ul>
<li><a href="https://github.com/danigosa/django-redis-sentinel-redux#how-to-use-it">Django-Redis Client that supports Sentinel Cluster HA</a>
    If the linked code example doesn't work, try <code>LOCATION: redis://mymaster/db</code>.</li>
</ul>
<p>If your library doesn't support sentinel you could use this project - <a href="https://github.com/anubhavmishra/redis-sentinel-proxy">Redis sentinel proxy</a>
    Note that the default configuration in this repository will not ensure HA for redis.
    For this you'll either need to use multiple replicas or use it as a sidecar for your applications.</p>
</div>
<h2 id="follow-the-go-live-checklist">Follow the Go-Live Checklist<a class="headerlink" href="#follow-the-go-live-checklist" title="Permanent link">¶</a></h2>
<p>You should be all set.
Before going into production, don't forget to go through the <a href="../../go-live/">go-live checklist</a>.</p>
<h2 id="ck8s-redis-release-notes">CK8S Redis Release Notes<a class="headerlink" href="#ck8s-redis-release-notes" title="Permanent link">¶</a></h2>
<p>Check out the <a href="../../../release-notes/redis/">release notes</a> for the Redis cluster that runs in Compliant Kubernetes environments!</p>
<h2 id="best-practices-recommended">Best Practices Recommended<a class="headerlink" href="#best-practices-recommended" title="Permanent link">¶</a></h2>
<ul>
<li><strong>Eviction Policy</strong>: Choose the <a href="https://redis.io/docs/reference/eviction/">eviction policy</a> that works for your application. The <code>default</code> eviction policy for our Managed Redis is <code>allkeys-lru</code>, which means any key can be evicted under memory pressure irrespective of whether the key is expired or not. It will keep the most recently used keys and remove the least recently used (LRU) key.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since this is a server setting, it cannot be set by the user itself, but needs to be set by the administrators. Please send a support ticket with the values you would like to set.</p>
</div>
<ul>
<li><strong>Set TTL</strong>: If possible, take the advantage of expiring keys, such as temporary OAuth authentication keys. When you set the key, set it with some expiration and Redis will clean up for you. Refer to <a href="https://redis.io/commands/ttl/">TTL</a></li>
<li><strong>Avoid expensive or blocking operations</strong>: Since Redis command processing is single-threaded,  operations like the <a href="https://redis.io/commands/keys/">KEYS</a> command are expensive and should be avoided. You can avoid <code>KEYS</code> by using <a href="https://redis.io/commands/scan/">SCAN</a> to reduce CPU spikes.</li>
<li><strong>Monitor memory usage</strong>: Monitor the usage in Grafana dashboard to ensure that you don't run out of memory and have the chance to scale your cache before seeing issues.</li>
<li><strong>Manage idle connection</strong>: The number of connections to Redis increases if connections are not properly terminated. This can lead to bad performance. Therefore, we recommend to setting <code>timeout</code> which allows you to set the number of seconds before idle client connections are automatically terminated.
The default <code>timeout</code> for our Managed Redis is set to <code>0</code>, which means the idle clients do not timeout and remain connected until the client issues the termination.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since this is a server setting, it cannot be set by the user itself, but needs to be set by the administrators. Please send a support ticket with the values you would like to set.</p>
</div>
<ul>
<li><strong>Cache-hit ratio</strong>: You should regularly monitor your <code>cache-hit</code> ratio so that you know what percentage of key lookups are successfully returned by keys in your Redis instance.
<code>info stats</code> command provides <code>keyspace_hits</code> &amp; <code>keyspace_misses</code> metric data to further calculate cache hit ratio for a running Redis instance.</li>
</ul>
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">¶</a></h2>
<ul>
<li><a href="https://redis.io/topics/sentinel/">Redis Sentinel</a></li>
<li><a href="https://redis.io/topics/sentinel-clients/">Guidelines for Redis clients with support for Redis Sentinel</a></li>
<li><a href="https://redis.io/commands/">Redis Commands</a></li>
<li><a href="https://kubernetes.io/docs/concepts/configuration/configmap/">Kubernetes ConfigMap</a></li>
</ul>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: TimescaleDB" class="md-footer__link md-footer__link--prev" href="../timescaledb/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                TimescaleDB
              </div>
</div>
</a>
<a aria-label="Next: RabbitMQ" class="md-footer__link md-footer__link--next" href="../rabbitmq/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                RabbitMQ
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © Elastisys AB <br> The Linux Foundation has the following registered trademarks in the United States and/or other countries: Certified Kubernetes®, containerd®, fluentd®, Helm®, Istio®, K8s®, Kubernetes®, Prometheus®, PromQL®, Rook®, The Linux Foundation®. <br/> The Linux Foundation has registrations pending or trademarks in use for the following marks in the United States and/or other countries: Argo™, CoreDNS™, Falco™, Harbor™, Jaeger™, Linux Foundation™, OpenTelemetry™, OpenTracing™, Open Policy Agent™, Tekton™, Thanos™. <br/> Postgres and PostgreSQL and the Elephant Logo (Slonik) are all registered trademarks of the PostgreSQL Community Association of Canada. <br/> Redis is a trademark of Redis Ltd. Any rights therein are reserved to Redis Ltd. Any use by the Compliant Kubernetes project is for referential purposes only and does not indicate any sponsorship, endorsement or affiliation between Redis and Compliant Kubernetes project. <br/> RabbitMQ is a trademark of VMware, Inc. in the U.S. and other countries. <br/> TimescaleDB and the EON mascot are trademarks of <a href="https://www.timescale.com/">Timescale, Inc.</a> <br/> FerretDB® is a registered trademark of FerretDB, Inc. FerretDB Inc. is not affiliated, associated, authorized, endorsed by, or in any way officially connected with MongoDB Inc., or any of its subsidiaries or its affiliates. <br/> MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc. <br/> Keycloak™ is a trademark of Red Hat Inc. <br/> OpenSearch is a registered trademark of Amazon Web Services. <br/> NGINX is a registered trademark of F5 Inc.
    </br></div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.top"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../../../assets/javascripts/bundle.aecac24b.min.js"></script>
</body>
</html>